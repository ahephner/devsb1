<template>
    <template if:true={exposed}>
        <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open slds-modal_large" 
        aria-labelledby="modal-heading-01" aria-modal="true" aria-describedby="modal-content-id-1">
            <div class="slds-modal__container">
              <header class="slds-modal__header">
                <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={closeModal}>
                  <svg class="slds-button__icon slds-button__icon_large" aria-hidden="true">
                    <use xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#close"></use>
                  </svg>
                  <span class="slds-assistive-text">Close</span>
                </button>
                <h5 id="modal-heading-01" class="slds-modal__title slds-hyphenate">Add Products</h5>
                <p>Area: {areaSelected}</p> 
              </header>
<!--this is the search info for products. Needs moved to appProductList comp-->
              <div class="slds-modal__content slds-p-around_medium  prodBody" id="modal-content-id-1">
                <template if:true={productList}> 
                <div class="slds-grid">
                    <div class='slds-col slds-size_3-of-8'>
                        <lightning-input type="text" variant="standard" 
                                         name="name" label="Product" 
                                         placeholder="Search for products.."
                                         onchange={searchProd}></lightning-input>
                    </div>
                    <div class='slds-col slds-size_2-of-8'>
                        <lightning-combobox
                            name="prodFamily"
                            label="Product Family"
                            value={pf}
                            placeholder="Select Progress"
                            options={pfOptions}
                            onchange={pfChange} ></lightning-combobox>
                    </div>
                    <div class='slds-col slds-size_2-of-8'>
                        <lightning-combobox
                        name="cat"
                        label="Category"
                        value={cat}
                        placeholder="Select Progress"
                        options={catOptions}
                        onchange={catChange} ></lightning-combobox>
                    </div>
                    <div class='slds-col slds-size_1-of-8 slds-m-top_large slds-m-left_small'>   
                        <lightning-button variant="brand" label="Search" title="Search" onclick={search}></lightning-button>
                    </div>
                </div>
              </template>
<!--here is the name date screen-->
                <template if:true={dateName}>
                  <c-app-name-date oncancel={closeModal}
                                   oncustnamedate={setCustNameDate}
                                   onnormalnamedate={setNameDate}></c-app-name-date>
                </template>
    <!--Here is the child app that controls the products displayed-->
              <!-- <c-app-product-list></c-app-product-list> -->
              <template if:true={productList}>
                  <c-app-select-prod onclose={closeModal}
                                     onmove={gatherProducts}></c-app-select-prod>
              </template>    

              <template if:true={productRates}>
                <c-app-rate-price selection={selectedProducts}
                                  area={areaId}
                                  onnext={closeModal}
                                  oncancel={closeModal}></c-app-rate-price>
              </template>
            </div>
              <!-- <footer class="slds-modal__footer">
                <button class="slds-button slds-button_neutral" onclick={closeModal}>Cancel</button>
                <button class="slds-button slds-button_brand" onclick={save}>Save</button>
              </footer> -->
            </div>
          </section>
          <div class="slds-backdrop slds-backdrop_open"></div>
    </template>
    <!-- <lightning-card  variant="Narrow"  title="Products" icon-name="standard:account">
        <lightning-input type="text" variant="standard" name="search" 
        label="Product" placeholder="type here..."
        onchange={searchProd}
        value={searchKey}></lightning-input>
    </lightning-card> -->
</template>